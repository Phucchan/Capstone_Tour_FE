<app-hero-section></app-hero-section>
<div *ngIf="isLoading" class="text-center py-10 text-gray-500">
  Đang tải dữ liệu...
</div>

<div *ngIf="errorMessage" class="text-center py-10 text-red-500">
  {{ errorMessage }}
</div>
<!-- navigation bar -->
<section class="bg-white py-16 px-4 sm:px-6 lg:px-8">
  <div class="text-center max-w-4xl mx-auto mb-12">
    <h2 class="text-3xl sm:text-4xl font-bold text-gray-900 mb-4">
      Chúng tôi có thứ bạn cần
    </h2>
    <p class="text-gray-500 text-lg">
      Đi Đâu là nền tảng du lịch giúp bạn dễ dàng khám phá mọi vùng đất tuyệt đẹp trên khắp Việt Nam.
      Từ đặt tour, tìm điểm đến hấp dẫn đến trải nghiệm văn hóa địa phương, tất cả đều có tại đây!
    </p>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-3 gap-8 max-w-6xl mx-auto">
    <div class="relative rounded-lg overflow-hidden shadow-md group">
      <img src="https://media-cdn-v2.laodong.vn/storage/newsportal/2025/5/9/1504309/Hoa-Phuong.jpg" alt=""
        class="w-full aspect-[3/4] object-cover group-hover:scale-105 transition" />
      <div class="absolute top-4 left-4 bg-orange-400 text-white px-4 py-1 rounded-full text-sm font-semibold">
        Chuyến đi của riêng bạn
      </div>
      <div class="absolute bottom-20 left-0 right-0 text-center px-4">
        <div class="bg-white/70 px-3 py-2 text-gray-700 font-semibold rounded">
          Cùng nhau khám phá<br />
          Tìm kiếm bạn bè - kết nối hành trình, trọn vẹn trải nghiệm
        </div>
      </div>
      <div class="absolute bottom-4 left-0 right-0 text-center">
        <button
          class="bg-gradient-to-r from-orange-400 to-purple-500 text-white px-6 py-2 rounded-full font-semibold hover:opacity-90 transition">
          XEM THÊM
        </button>
      </div>
    </div>

    <div class="relative rounded-lg overflow-hidden shadow-md group">
      <img src="https://www.sunlife.com.vn/content/dam/sunlife/regional/vietnam/images/du-lich-viet-nam-2020-1.jpg"
        alt="" class="w-full aspect-[3/4] object-cover group-hover:scale-105 transition" />
      <div class="absolute top-4 left-4 bg-orange-400 text-white px-4 py-1 rounded-full text-sm font-semibold">
        Chúng tôi có chuyến đi bạn tìm
      </div>
      <div class="absolute bottom-20 left-0 right-0 text-center px-4">
        <div class="bg-white/70 px-3 py-2 text-gray-700 font-semibold rounded">
          Sẵn sàng cho mọi chuyến đi của bạn<br />
          Khám phá điểm đến - Gắn kết cảm xúc, lưu giữ kỷ niệm
        </div>
      </div>
      <div class="absolute bottom-4 left-0 right-0 text-center">
        <button
          class="bg-gradient-to-r from-orange-400 to-purple-500 text-white px-6 py-2 rounded-full font-semibold hover:opacity-90 transition">
          XEM THÊM
        </button>
      </div>
    </div>

    <div class="relative rounded-lg overflow-hidden shadow-md group">
      <img
        src="https://cafefcdn.com/203337114487263232/2023/4/6/3333380841899454470574571287910598869949696n-1680712798929833722222-1680747018859-1680747021440472371967.jpeg"
        alt="" class="w-full aspect-[3/4] object-cover group-hover:scale-105 transition" />
      <div class="absolute top-4 left-4 bg-orange-400 text-white px-4 py-1 rounded-full text-sm font-semibold">
        Lưu dấu hành trình
      </div>
      <div class="absolute bottom-20 left-0 right-0 text-center px-4">
        <div class="bg-white/70 px-3 py-2 text-gray-700 font-semibold rounded">
          Đi là có thưởng<br />
          Lưu dấu hành trình. Quà tặng hết ý
        </div>
      </div>
      <div class="absolute bottom-4 left-0 right-0 text-center">
        <button
          class="bg-gradient-to-r from-orange-400 to-purple-500 text-white px-6 py-2 rounded-full font-semibold hover:opacity-90 transition">
          XEM THÊM
        </button>
      </div>
    </div>
  </div>
</section>

<!-- Featured Tours Section -->
<ng-container *ngIf="!isLoading && !errorMessage">
  <section class="bg-white py-16 px-4 sm:px-6 lg:px-8">
    <div class="max-w-7xl mx-auto">
      <h2 class="text-2xl sm:text-3xl font-bold text-center text-blue-800 mb-8 uppercase">Tour hot</h2>

      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
        <a *ngFor="let tour of highlyRatedTours" [routerLink]="['/tours', tour.id]"
          class="flex flex-col bg-white shadow-md rounded-lg overflow-hidden h-[400px] hover:shadow-lg transition cursor-pointer">

          <img [src]="tour.thumbnailUrl" alt="Tour"
            class="w-full h-40 object-cover transition-transform duration-300 hover:scale-105" />
          <div class="p-4 flex flex-col flex-1">
            <!-- Tên tour: để trên, không giới hạn độ cao -->
            <h3 class="text-base font-semibold text-gray-800 line-clamp-2 mb-4">
              {{ tour.name }}
            </h3>
            <!-- Phần thông tin: đẩy sát đáy -->
            <div class="mt-auto space-y-2">
              <p class="text-sm text-gray-600">📍 Khởi hành: {{ tour.locationName }}</p>
              <p class="text-sm text-gray-600">⏳ Thời gian: {{ tour.durationDays | durationFormat }}</p>
              <p class="text-sm text-yellow-600">⭐ Đánh giá: {{ tour.averageRating }}/5 ★</p>
              <p class="text-sm text-gray-600">📅 Khởi hành: {{ tour.nextDepartureDate | formatDate }}</p>
              <p class="text-red-500 font-semibold">💵 {{ tour.startingPrice | currencyVnd }}</p>
            </div>
          </div>
        </a>
      </div>
      <div class="mt-8 flex justify-center">
        <a routerLink="/tours"
          class="inline-block border border-blue-600 text-blue-600 px-6 py-2 rounded-full font-semibold hover:bg-blue-600 hover:text-white transition">
          Xem tất cả
        </a>
      </div>
    </div>
  </section>
</ng-container>
<!-- Featured Destinations Section -->
<section class="bg-white py-16 px-4 sm:px-6 lg:px-8">
  <div class="text-center max-w-3xl mx-auto mb-10">
    <h2 class="text-3xl sm:text-4xl font-bold text-blue-700">ĐIỂM DU LỊCH HẤP DẪN</h2>
    <p class="text-gray-600 mt-4">
      "Đi Đâu" luôn có những sản phẩm đến các điểm du lịch hấp dẫn trải dài khắp mảnh đất hình chữ S.
    </p>
    <p class="mt-2 font-semibold text-blue-600">Điểm đến trong nước</p>
  </div>

  <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6 max-w-6xl mx-auto">
    <div *ngFor="let location of locations"
      class="bg-white rounded-lg shadow overflow-hidden hover:shadow-md transition">
      <img [src]="location.image || 'assets/images/default-location.jpg'" alt="{{ location.name }}"
        class="w-full h-[180px] object-cover" />
      <div class="p-4 text-center">
        <h3 class="text-lg font-semibold text-gray-800">{{ location.name }}</h3>
      </div>
    </div>
  </div>
</section>


<!-- Recent Blogs Section -->
<ng-container *ngIf="!isLoading && !errorMessage">
  <section class="bg-white py-16 px-4 sm:px-6 lg:px-8">
    <div class="max-w-7xl mx-auto">
      <h2 class="text-2xl sm:text-3xl font-bold text-center text-blue-800 mb-8 uppercase">Bài viết
      </h2>

      <div class="grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-5 gap-4">
        <div *ngFor="let blog of blogs"
          class="group bg-white rounded-lg shadow-sm overflow-hidden flex flex-col min-h-[350px]">
          <div class="relative w-full aspect-[3/4]">
            <img [src]="blog?.thumbnailImageUrl || 'assets/images/default-blog.jpg'" alt="thumbnail"
              class="w-full h-full object-cover transition-transform duration-300 group-hover:scale-105" />
          </div>
          <div class="p-4 flex flex-col">
            <p class="text-sm text-gray-500 mb-1">{{ blog?.authorName }}</p>
            <h3
              class="font-semibold text-base mb-2 text-gray-900 hover:text-blue-600 transition cursor-pointer line-clamp-2">
              {{ blog?.title }}
            </h3>
            <p class="text-sm text-gray-400 mt-auto">{{ getTime(blog.createdAt) }}</p>
          </div>
        </div>
      </div>
    </div>
  </section>
</ng-container>