<!--
 * FILE: src/app/features/business/pages/request-booking-list/request-booking-list.component.html
 * MÔ TẢ:
 * - Giao diện đã được viết lại hoàn toàn bằng NG-ZORRO.
-->
<div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8">
  <!-- Page Header -->
  <div class="mb-6">
    <h1 class="text-2xl md:text-3xl font-bold text-gray-900">
      Quản lý Yêu cầu Tour Riêng
    </h1>
    <p class="text-sm text-gray-600 mt-1">
      Quản lý các yêu cầu thiết kế tour riêng từ khách hàng.
    </p>
  </div>

  <!-- Main Content Card -->
  <nz-card>
    <div class="overflow-x-auto">
      <nz-table
        #requestTable
        [nzData]="requests"
        [nzFrontPagination]="false"
        [nzLoading]="isLoading"
        [nzTotal]="totalItems"
        [(nzPageIndex)]="pageIndex"
        [(nzPageSize)]="pageSize"
        (nzQueryParams)="onQueryParamsChange($event)"
        nzShowSizeChanger="false"
      >
        <thead>
          <tr>
            <th>Khách hàng</th>
            <th>Điểm đến</th>
            <th>Ngày đi</th>
            <th>Ngày về</th>
            <th class="text-center">Trạng thái</th>
            <th class="text-center">Hành động</th>
          </tr>
        </thead>
        <tbody>
          <tr *ngFor="let request of requestTable.data">
            <td>
              <div class="font-semibold text-gray-900">{{ request.customerName }}</div>
              <div class="text-gray-600">{{ request.customerPhone }}</div>
            </td>
            <td>{{ request.destinations.join(', ') }}</td>
            <td>{{ request.startDate | date:'dd/MM/yyyy' }}</td>
            <td>{{ request.endDate | date:'dd/MM/yyyy' }}</td>
            <td class="text-center">
              <nz-tag [nzColor]="getStatusColor(request.status)">
                {{ getStatusText(request.status) }}
              </nz-tag>
            </td>
            <td class="text-center">
              <a [routerLink]="['/business/request-bookings', request.id]">Xem chi tiết</a>
            </td>
          </tr>
        </tbody>
      </nz-table>
    </div>
  </nz-card>
</div>
