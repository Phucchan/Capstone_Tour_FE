<div class="overflow-x-auto">
  <table class="min-w-full divide-y divide-gray-200">
    <thead class="bg-gray-50">
      <tr>
        <th scope="col" class="px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Số phiếu</th>
        <th scope="col" class="px-4 py-3 text-left text-xs font-semibold text-gray-500 uppercase tracking-wider">Ngày tạo</th>
        <th scope="col" class="px-4 py-3 text-right text-xs font-semibold text-gray-500 uppercase tracking-wider">Số tiền</th>
        <th scope="col" class="px-4 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider">Trạng thái</th>
        <th scope="col" class="px-4 py-3 text-center text-xs font-semibold text-gray-500 uppercase tracking-wider">Hành động</th>
      </tr>
    </thead>
    <tbody class="bg-white divide-y divide-gray-200">
      <tr *ngFor="let bill of bills" class="hover:bg-gray-50 transition-colors duration-150">
        <td class="px-4 py-3 whitespace-nowrap text-sm font-medium text-gray-900">{{ bill.billNumber }}</td>
        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700">{{ bill.createdDate | formatDate }}</td>
        <td class="px-4 py-3 whitespace-nowrap text-sm text-gray-700 text-right font-medium">{{ bill.totalAmount | currencyVnd }}</td>
        <td class="px-4 py-3 whitespace-nowrap text-sm text-center">
          <nz-tag *ngIf="bill.status === PaymentBillItemStatus.PAID" nzColor="green">Đã trả</nz-tag>
          <nz-tag *ngIf="bill.status === PaymentBillItemStatus.PENDING" nzColor="gold">Chờ trả</nz-tag>
        </td>
        <td class="px-4 py-3 whitespace-nowrap text-sm text-center">
          <button *ngIf="bill.status === PaymentBillItemStatus.PENDING" nz-button nzType="link" nzSize="small" (click)="onMarkPaid(bill.billId)" class="text-green-600 hover:text-green-800 p-0">
            <i nz-icon nzType="check-circle" nzTheme="outline"></i>
            <span>Xác nhận trả</span>
          </button>
          <!-- Hiển thị gạch ngang nếu đã trả -->
          <span *ngIf="bill.status === PaymentBillItemStatus.PAID" class="text-gray-400">--</span>
        </td>
      </tr>
      <!-- Trạng thái không có dữ liệu -->
      <tr *ngIf="!bills || bills.length === 0">
        <!-- Cập nhật colspan="5" -->
        <td colspan="5" class="text-center py-8">
           <nz-empty nzNotFoundImage="simple" nzNotFoundContent="Chưa có phiếu nào"></nz-empty>
        </td>
      </tr>
    </tbody>
  </table>
</div>
